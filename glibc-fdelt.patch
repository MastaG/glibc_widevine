commit d4cc29a254db6bd3838aac79d9d0e91cfd467c9d
Author: Andreas Schwab <schwab@redhat.com>
Date:   Fri Dec 2 11:34:28 2011 +0100

    Mark fortified __FD_ELT as extension

diff --git a/ChangeLog b/ChangeLog
index dddb628..e512bbb 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,8 @@
+2011-12-02  Andreas Schwab  <schwab@redhat.com>
+
+	* misc/bits/select2.h (__FD_ELT): Mark as extension.  Add
+	parenthesis.
+
 2011-11-29  Andreas Schwab  <schwab@redhat.com>
 
 	* locale/weight.h (findidx): Add parameter len.
diff --git a/misc/bits/select2.h b/misc/bits/select2.h
index 37c4827..a7ce1b4 100644
--- a/misc/bits/select2.h
+++ b/misc/bits/select2.h
@@ -27,7 +27,8 @@ extern unsigned long int __fdelt_warn (unsigned long int __d)
   __warnattr ("bit outside of fd_set selected");
 #undef __FD_ELT
 #define	__FD_ELT(d) \
-  ({ unsigned long int __d = d;						    \
+  __extension__								    \
+  ({ unsigned long int __d = (d);					    \
      (__builtin_constant_p (__d)					    \
       ? (__d >= __FD_SETSIZE						    \
 	 ? __fdelt_warn (__d) : (__d / __NFDBITS))			    \
